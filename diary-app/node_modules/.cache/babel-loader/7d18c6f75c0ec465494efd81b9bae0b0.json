{"ast":null,"code":"const remainingTime = expiresIn => {\n  const currentTime = new Date().getTime();\n  const ajExpireTime = new Date(expiresIn).getTime();\n  return ajExpireTime - currentTime;\n};\n\nexport const login = (expiresIn, data) => dispatch => {\n  const {\n    token\n  } = data;\n  dispatch({\n    type: \"LOGIN\",\n    payload: data\n  });\n  const timeLeft = remainingTime(expiresIn);\n  localStorage.setItem('token', token);\n  localStorage.setItem('expirationTime', expiresIn); // set auto logout\n\n  setTimeout(() => {\n    console.log(\"auto logged out user\");\n    dispatch({\n      type: \"LOGOUT\"\n    });\n  }, timeLeft);\n};\nexport const logout = () => dispatch => {};","map":{"version":3,"sources":["/Users/danielfindlay/Desktop/save/full-projects/diary-app/diary-app/src/store/actions/auth-actions.js"],"names":["remainingTime","expiresIn","currentTime","Date","getTime","ajExpireTime","login","data","dispatch","token","type","payload","timeLeft","localStorage","setItem","setTimeout","console","log","logout"],"mappings":"AAAC,MAAMA,aAAa,GAAIC,SAAD,IAAe;AAClC,QAAMC,WAAW,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAApB;AACA,QAAMC,YAAY,GAAG,IAAIF,IAAJ,CAASF,SAAT,EAAoBG,OAApB,EAArB;AACA,SAAOC,YAAY,GAAGH,WAAtB;AACF,CAJD;;AAKA,OAAO,MAAMI,KAAK,GAAG,CAACL,SAAD,EAAYM,IAAZ,KAAsBC,QAAD,IAAc;AACrD,QAAM;AAACC,IAAAA;AAAD,MAAUF,IAAhB;AACAC,EAAAA,QAAQ,CAAC;AAACE,IAAAA,IAAI,EAAE,OAAP;AAAgBC,IAAAA,OAAO,EAAEJ;AAAzB,GAAD,CAAR;AACA,QAAMK,QAAQ,GAAGZ,aAAa,CAACC,SAAD,CAA9B;AACAY,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,KAA9B;AACAI,EAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuCb,SAAvC,EALqD,CAMrD;;AACAc,EAAAA,UAAU,CAAC,MAAM;AACbC,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACAT,IAAAA,QAAQ,CAAC;AAACE,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACH,GAHS,EAGPE,QAHO,CAAV;AAIH,CAXO;AAYR,OAAO,MAAMM,MAAM,GAAG,MAAOV,QAAD,IAAc,CAEzC,CAFM","sourcesContent":[" const remainingTime = (expiresIn) => {\n    const currentTime = new Date().getTime() \n    const ajExpireTime = new Date(expiresIn).getTime()\n    return ajExpireTime - currentTime\n }\n export const login = (expiresIn, data) => (dispatch) => {\n    const {token} = data\n    dispatch({type: \"LOGIN\", payload: data})\n    const timeLeft = remainingTime(expiresIn)\n    localStorage.setItem('token', token);\n    localStorage.setItem('expirationTime', expiresIn);\n    // set auto logout\n    setTimeout(() => {\n        console.log(\"auto logged out user\")\n        dispatch({type: \"LOGOUT\"})\n    }, timeLeft)\n}\nexport const logout = () => (dispatch) => {\n\n}\n\n"]},"metadata":{},"sourceType":"module"}